/*! For license information please see DrawSVGPlugin.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,(function(e){"use strict";var t,n,r,i,s,o,a,f,h=function(){return"undefined"!=typeof window},l=function(){return t||h()&&(t=window.gsap)&&t.registerPlugin&&t},d=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,u={rect:["width","height"],circle:["r","r"],ellipse:["rx","ry"],line:["x2","y2"]},c=function(e){return Math.round(1e4*e)/1e4},g=function(e){return parseFloat(e)||0},p=function(e,t){var n=g(e);return~e.indexOf("%")?n/100*t:n},_=function(e,t){return g(e.getAttribute(t))},y=Math.sqrt,w=function(e,t,n,r,i,s){return y(Math.pow((g(n)-g(e))*i,2)+Math.pow((g(r)-g(t))*s,2))},x=function(e){return console.warn(e)},v=function(e){return"non-scaling-stroke"===e.getAttribute("vector-effect")},k=function(e){if(!(e=n(e)[0]))return 0;var t,r,i,s,a,f,h,l=e.tagName.toLowerCase(),g=e.style,p=1,k=1;v(e)&&(k=e.getScreenCTM(),p=y(k.a*k.a+k.b*k.b),k=y(k.d*k.d+k.c*k.c));try{r=e.getBBox()}catch(e){x("Some browsers won't measure invisible elements (like display:none or masks inside defs).")}var m=r||{x:0,y:0,width:0,height:0},b=m.x,P=m.y,M=m.width,D=m.height;if(r&&(M||D)||!u[l]||(M=_(e,u[l][0]),D=_(e,u[l][1]),"rect"!==l&&"line"!==l&&(M*=2,D*=2),"line"===l&&(b=_(e,"x1"),P=_(e,"y1"),M=Math.abs(M-b),D=Math.abs(D-P))),"path"===l)s=g.strokeDasharray,g.strokeDasharray="none",t=e.getTotalLength()||0,c(p)!==c(k)&&!o&&(o=1)&&x("Warning: <path> length cannot be measured when vector-effect is non-scaling-stroke and the element isn't proportionally scaled."),t*=(p+k)/2,g.strokeDasharray=s;else if("rect"===l)t=2*M*p+2*D*k;else if("line"===l)t=w(b,P,b+M,P+D,p,k);else if("polyline"===l||"polygon"===l)for(i=e.getAttribute("points").match(d)||[],"polygon"===l&&i.push(i[0],i[1]),t=0,a=2;a<i.length;a+=2)t+=w(i[a-2],i[a-1],i[a],i[a+1],p,k)||0;else"circle"!==l&&"ellipse"!==l||(f=M/2*p,h=D/2*k,t=Math.PI*(3*(f+h)-y((3*f+h)*(f+3*h))));return t||0},m=function(e,t){if(!(e=n(e)[0]))return[0,0];t||(t=k(e)+1);var i=r.getComputedStyle(e),s=i.strokeDasharray||"",o=g(i.strokeDashoffset),a=s.indexOf(",");return a<0&&(a=s.indexOf(" ")),(s=a<0?t:g(s.substr(0,a)))>t&&(s=t),[-o||0,s-o||0]},b=function(){h()&&(r=window,s=t=l(),n=t.utils.toArray,a=t.core.getStyleSaver,f=t.core.reverting||function(){},i=-1!==((r.navigator||{}).userAgent||"").indexOf("Edge"))},P={version:"3.13.0",name:"drawSVG",register:function(e){t=e,b()},init:function(e,t,n,o,f){if(!e.getBBox)return!1;s||b();var h,l,d,u=k(e);return this.styles=a&&a(e,"strokeDashoffset,strokeDasharray,strokeMiterlimit"),this.tween=n,this._style=e.style,this._target=e,t+""=="true"?t="0 100%":t?-1===(t+"").indexOf(" ")&&(t="0 "+t):t="0 0",l=function(e,t,n){var r,i,s=e.indexOf(" ");return s<0?(r=void 0!==n?n+"":e,i=e):(r=e.substr(0,s),i=e.substr(s+1)),(r=p(r,t))>(i=p(i,t))?[i,r]:[r,i]}(t,u,(h=m(e,u))[0]),this._length=c(u),this._dash=c(h[1]-h[0]),this._offset=c(-h[0]),this._dashPT=this.add(this,"_dash",this._dash,c(l[1]-l[0]),0,0,0,0,0,1),this._offsetPT=this.add(this,"_offset",this._offset,c(-l[0]),0,0,0,0,0,1),i&&(d=r.getComputedStyle(e)).strokeLinecap!==d.strokeLinejoin&&(l=g(d.strokeMiterlimit),this.add(e.style,"strokeMiterlimit",l,l+.01)),this._live=v(e)||~(t+"").indexOf("live"),this._nowrap=~(t+"").indexOf("nowrap"),this._props.push("drawSVG"),1},render:function(e,t){if(t.tween._time||!f()){var n,r,i,s,o=t._pt,a=t._style;if(o){for(t._live&&(n=k(t._target))!==t._length&&(r=n/t._length,t._length=n,t._offsetPT&&(t._offsetPT.s*=r,t._offsetPT.c*=r),t._dashPT?(t._dashPT.s*=r,t._dashPT.c*=r):t._dash*=r);o;)o.r(e,o.d),o=o._next;i=t._dash||e&&1!==e&&1e-4||0,n=t._length-i+.1,s=t._offset,i&&s&&i+Math.abs(s%t._length)>t._length-.05&&(s+=s<0?.005:-.005)&&(n+=.005),a.strokeDashoffset=i?s:s+.001,a.strokeDasharray=n<.1?"none":i?i+"px,"+(t._nowrap?999999:n)+"px":"0px, 999999px"}}else t.styles.revert()},getLength:k,getPosition:m};l()&&t.registerPlugin(P),e.DrawSVGPlugin=P,e.default=P,Object.defineProperty(e,"__esModule",{value:!0})}));