/*! For license information please see Observer.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,(function(e){"use strict";function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n,r,o,i,s,a,c,l,u,f,d,g,p,h=function(){return n||"undefined"!=typeof window&&(n=window.gsap)&&n.registerPlugin&&n},v=1,y=[];e._scrollers=[],e._proxies=[];var _=Date.now,x=function(e,t){return t},m=function(t,n){return~e._proxies.indexOf(t)&&e._proxies[e._proxies.indexOf(t)+1][n]},b=function(e){return!!~f.indexOf(e)},w=function(e,t,n,r,o){return e.addEventListener(t,n,{passive:!1!==r,capture:!!o})},M=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},P="scrollLeft",Y="scrollTop",D=function(){return d&&d.isPressed||e._scrollers.cache++},X=function(t,n){var r=function r(i){if(i||0===i){v&&(o.history.scrollRestoration="manual");var s=d&&d.isPressed;i=r.v=Math.round(i)||(d&&d.iOS?1:0),t(i),r.cacheID=e._scrollers.cache,s&&x("ss",i)}else(n||e._scrollers.cache!==r.cacheID||x("ref"))&&(r.cacheID=e._scrollers.cache,r.v=t());return r.v+r.offset};return r.offset=0,t&&r},E={s:P,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:X((function(e){return arguments.length?o.scrollTo(e,O.sc()):o.pageXOffset||i[P]||s[P]||a[P]||0}))},O={s:Y,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:E,sc:X((function(e){return arguments.length?o.scrollTo(E.sc(),e):o.pageYOffset||i[Y]||s[Y]||a[Y]||0}))},T=function(e,t){return(t&&t._ctx&&t._ctx.selector||n.utils.toArray)(e)[0]||("string"==typeof e&&!1!==n.config().nullTargetWarn?console.warn("Element not found:",e):null)},k=function(t,r){var o=r.s,a=r.sc;b(t)&&(t=i.scrollingElement||s);var c=e._scrollers.indexOf(t),l=a===O.sc?1:2;!~c&&(c=e._scrollers.push(t)-1),e._scrollers[c+l]||w(t,"scroll",D);var u=e._scrollers[c+l],f=u||(e._scrollers[c+l]=X(m(t,o),!0)||(b(t)?a:X((function(e){return arguments.length?t[o]=e:t[o]}))));return f.target=t,u||(f.smooth="smooth"===n.getProperty(t,"scrollBehavior")),f},S=function(e,t,n){var r=e,o=e,i=_(),s=i,a=t||50,c=Math.max(500,3*a),l=function(e,t){var c=_();t||c-i>a?(o=r,r=e,s=i,i=c):n?r+=e:r=o+(e-o)/(c-s)*(i-s)};return{update:l,reset:function(){o=r=n?0:r,s=i=0},getVelocity:function(e){var t=s,a=o,u=_();return(e||0===e)&&e!==r&&l(e),i===s||u-s>c?0:(r+(n?a:-a))/((n?u:i)-t)*1e3}}},C=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},A=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},G=function(){var t,r,o,i;(u=n.core.globals().ScrollTrigger)&&u.core&&(t=u.core,r=t.bridge||{},o=t._scrollers,i=t._proxies,o.push.apply(o,e._scrollers),i.push.apply(i,e._proxies),e._scrollers=o,e._proxies=i,x=function(e,t){return r[e](t)})},H=function(e){return n=e||h(),!r&&n&&"undefined"!=typeof document&&document.body&&(o=window,i=document,s=i.documentElement,a=i.body,f=[o,i,s,a],n.utils.clamp,p=n.core.context||function(){},l="onpointerenter"in a?"pointer":"mouse",c=L.isTouch=o.matchMedia&&o.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in o||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,g=L.eventTypes=("ontouchstart"in s?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in s?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout((function(){return v=0}),500),G(),r=1),r};E.op=O,e._scrollers.cache=0;var L=function(){function e(e){this.init(e)}var f,h;return e.prototype.init=function(e){r||H(n)||console.warn("Please gsap.registerPlugin(Observer)"),u||G();var t=e.tolerance,f=e.dragMinimum,h=e.type,v=e.target,x=e.lineHeight,m=e.debounce,P=e.preventDefault,Y=e.onStop,X=e.onStopDelay,L=e.ignore,R=e.wheelSpeed,V=e.event,F=e.onDragStart,I=e.onDragEnd,j=e.onDrag,B=e.onPress,N=e.onRelease,W=e.onRight,q=e.onLeft,z=e.onUp,U=e.onDown,J=e.onChangeX,K=e.onChangeY,Q=e.onChange,Z=e.onToggleX,$=e.onToggleY,ee=e.onHover,te=e.onHoverEnd,ne=e.onMove,re=e.ignoreCheck,oe=e.isNormalizer,ie=e.onGestureStart,se=e.onGestureEnd,ae=e.onWheel,ce=e.onEnable,le=e.onDisable,ue=e.onClick,fe=e.scrollSpeed,de=e.capture,ge=e.allowClicks,pe=e.lockAxis,he=e.onLockAxis;this.target=v=T(v)||s,this.vars=e,L&&(L=n.utils.toArray(L)),t=t||1e-9,f=f||0,R=R||1,fe=fe||1,h=h||"wheel,touch,pointer",m=!1!==m,x||(x=parseFloat(o.getComputedStyle(a).lineHeight)||22);var ve,ye,_e,xe,me,be,we,Me=this,Pe=0,Ye=0,De=e.passive||!P&&!1!==e.passive,Xe=k(v,E),Ee=k(v,O),Oe=Xe(),Te=Ee(),ke=~h.indexOf("touch")&&!~h.indexOf("pointer")&&"pointerdown"===g[0],Se=b(v),Ce=v.ownerDocument||i,Ae=[0,0,0],Ge=[0,0,0],He=0,Le=function(){return He=_()},Re=function(e,t){return(Me.event=e)&&L&&function(e,t){for(var n=t.length;n--;)if(t[n]===e||t[n].contains(e))return!0;return!1}(e.target,L)||t&&ke&&"touch"!==e.pointerType||re&&re(e,t)},Ve=function(){var e=Me.deltaX=A(Ae),n=Me.deltaY=A(Ge),r=Math.abs(e)>=t,o=Math.abs(n)>=t;Q&&(r||o)&&Q(Me,e,n,Ae,Ge),r&&(W&&Me.deltaX>0&&W(Me),q&&Me.deltaX<0&&q(Me),J&&J(Me),Z&&Me.deltaX<0!=Pe<0&&Z(Me),Pe=Me.deltaX,Ae[0]=Ae[1]=Ae[2]=0),o&&(U&&Me.deltaY>0&&U(Me),z&&Me.deltaY<0&&z(Me),K&&K(Me),$&&Me.deltaY<0!=Ye<0&&$(Me),Ye=Me.deltaY,Ge[0]=Ge[1]=Ge[2]=0),(xe||_e)&&(ne&&ne(Me),_e&&(F&&1===_e&&F(Me),j&&j(Me),_e=0),xe=!1),be&&!(be=!1)&&he&&he(Me),me&&(ae(Me),me=!1),ve=0},Fe=function(e,t,n){Ae[n]+=e,Ge[n]+=t,Me._vx.update(e),Me._vy.update(t),m?ve||(ve=requestAnimationFrame(Ve)):Ve()},Ie=function(e,t){pe&&!we&&(Me.axis=we=Math.abs(e)>Math.abs(t)?"x":"y",be=!0),"y"!==we&&(Ae[2]+=e,Me._vx.update(e,!0)),"x"!==we&&(Ge[2]+=t,Me._vy.update(t,!0)),m?ve||(ve=requestAnimationFrame(Ve)):Ve()},je=function(e){if(!Re(e,1)){var t=(e=C(e,P)).clientX,n=e.clientY,r=t-Me.x,o=n-Me.y,i=Me.isDragging;Me.x=t,Me.y=n,(i||(r||o)&&(Math.abs(Me.startX-t)>=f||Math.abs(Me.startY-n)>=f))&&(_e=i?2:1,i||(Me.isDragging=!0),Ie(r,o))}},Be=Me.onPress=function(e){Re(e,1)||e&&e.button||(Me.axis=we=null,ye.pause(),Me.isPressed=!0,e=C(e),Pe=Ye=0,Me.startX=Me.x=e.clientX,Me.startY=Me.y=e.clientY,Me._vx.reset(),Me._vy.reset(),w(oe?v:Ce,g[1],je,De,!0),Me.deltaX=Me.deltaY=0,B&&B(Me))},Ne=Me.onRelease=function(e){if(!Re(e,1)){M(oe?v:Ce,g[1],je,!0);var t=!isNaN(Me.y-Me.startY),r=Me.isDragging,i=r&&(Math.abs(Me.x-Me.startX)>3||Math.abs(Me.y-Me.startY)>3),s=C(e);!i&&t&&(Me._vx.reset(),Me._vy.reset(),P&&ge&&n.delayedCall(.08,(function(){if(_()-He>300&&!e.defaultPrevented)if(e.target.click)e.target.click();else if(Ce.createEvent){var t=Ce.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,o,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}}))),Me.isDragging=Me.isGesturing=Me.isPressed=!1,Y&&r&&!oe&&ye.restart(!0),_e&&Ve(),I&&r&&I(Me),N&&N(Me,i)}},We=function(e){return e.touches&&e.touches.length>1&&(Me.isGesturing=!0)&&ie(e,Me.isDragging)},qe=function(){return(Me.isGesturing=!1)||se(Me)},ze=function(e){if(!Re(e)){var t=Xe(),n=Ee();Fe((t-Oe)*fe,(n-Te)*fe,1),Oe=t,Te=n,Y&&ye.restart(!0)}},Ue=function(e){if(!Re(e)){e=C(e,P),ae&&(me=!0);var t=(1===e.deltaMode?x:2===e.deltaMode?o.innerHeight:1)*R;Fe(e.deltaX*t,e.deltaY*t,0),Y&&!oe&&ye.restart(!0)}},Je=function(e){if(!Re(e)){var t=e.clientX,n=e.clientY,r=t-Me.x,o=n-Me.y;Me.x=t,Me.y=n,xe=!0,Y&&ye.restart(!0),(r||o)&&Ie(r,o)}},Ke=function(e){Me.event=e,ee(Me)},Qe=function(e){Me.event=e,te(Me)},Ze=function(e){return Re(e)||C(e,P)&&ue(Me)};ye=Me._dc=n.delayedCall(X||.25,(function(){Me._vx.reset(),Me._vy.reset(),ye.pause(),Y&&Y(Me)})).pause(),Me.deltaX=Me.deltaY=0,Me._vx=S(0,50,!0),Me._vy=S(0,50,!0),Me.scrollX=Xe,Me.scrollY=Ee,Me.isDragging=Me.isGesturing=Me.isPressed=!1,p(this),Me.enable=function(e){return Me.isEnabled||(w(Se?Ce:v,"scroll",D),h.indexOf("scroll")>=0&&w(Se?Ce:v,"scroll",ze,De,de),h.indexOf("wheel")>=0&&w(v,"wheel",Ue,De,de),(h.indexOf("touch")>=0&&c||h.indexOf("pointer")>=0)&&(w(v,g[0],Be,De,de),w(Ce,g[2],Ne),w(Ce,g[3],Ne),ge&&w(v,"click",Le,!0,!0),ue&&w(v,"click",Ze),ie&&w(Ce,"gesturestart",We),se&&w(Ce,"gestureend",qe),ee&&w(v,l+"enter",Ke),te&&w(v,l+"leave",Qe),ne&&w(v,l+"move",Je)),Me.isEnabled=!0,Me.isDragging=Me.isGesturing=Me.isPressed=xe=_e=!1,Me._vx.reset(),Me._vy.reset(),Oe=Xe(),Te=Ee(),e&&e.type&&Be(e),ce&&ce(Me)),Me},Me.disable=function(){Me.isEnabled&&(y.filter((function(e){return e!==Me&&b(e.target)})).length||M(Se?Ce:v,"scroll",D),Me.isPressed&&(Me._vx.reset(),Me._vy.reset(),M(oe?v:Ce,g[1],je,!0)),M(Se?Ce:v,"scroll",ze,de),M(v,"wheel",Ue,de),M(v,g[0],Be,de),M(Ce,g[2],Ne),M(Ce,g[3],Ne),M(v,"click",Le,!0),M(v,"click",Ze),M(Ce,"gesturestart",We),M(Ce,"gestureend",qe),M(v,l+"enter",Ke),M(v,l+"leave",Qe),M(v,l+"move",Je),Me.isEnabled=Me.isPressed=Me.isDragging=!1,le&&le(Me))},Me.kill=Me.revert=function(){Me.disable();var e=y.indexOf(Me);e>=0&&y.splice(e,1),d===Me&&(d=0)},y.push(Me),oe&&b(v)&&(d=Me),Me.enable(V)},f=e,(h=[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}])&&t(f.prototype,h),e}();L.version="3.13.0",L.create=function(e){return new L(e)},L.register=H,L.getAll=function(){return y.slice()},L.getById=function(e){return y.filter((function(t){return t.vars.id===e}))[0]},h()&&n.registerPlugin(L),e.Observer=L,e._getProxyProp=m,e._getScrollFunc=k,e._getTarget=T,e._getVelocityProp=S,e._horizontal=E,e._isViewport=b,e._vertical=O,e.default=L,"undefined"==typeof window||window!==e?Object.defineProperty(e,"__esModule",{value:!0}):delete window.default}));