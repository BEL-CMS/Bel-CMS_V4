/*! For license information please see PixiPlugin.js.LICENSE.txt */
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((t=t||self).window=t.window||{})}(this,(function(t){"use strict";var r,i,o,e,n,s,l,a,u,c,f=function(){return"undefined"!=typeof window},h=function(){return r||f()&&(r=window.gsap)&&r.registerPlugin&&r},d=function(t){return"function"==typeof t},p=function(t){return console.warn(t)},g=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],b=.212671,x=.71516,m=.072169,P=function(t){return d(e[t])?e[t]:e.filters[t]},v=function(t,r){var i,o,e=[],n=0,s=0;for(i=0;i<4;i++){for(o=0;o<5;o++)s=4===o?t[n+4]:0,e[n+o]=t[n]*r[o]+t[n+1]*r[o+5]+t[n+2]*r[o+10]+t[n+3]*r[o+15]+s;n+=5}return e},w=function(t,r){var i=1-r,o=i*b,e=i*x,n=i*m;return v([o+r,e,n,0,0,o,e+r,n,0,0,o,e,n+r,0,0,0,0,0,1,0],t)},z=function(t,r,o){var e=i(r),n=e[0]/255,s=e[1]/255,l=e[2]/255,a=1-o;return v([a+o*n*b,o*n*x,o*n*m,0,0,o*s*b,a+o*s*x,o*s*m,0,0,o*l*b,o*l*x,a+o*l*m,0,0,0,0,0,1,0],t)},M=function(t,r){r*=Math.PI/180;var i=Math.cos(r),o=Math.sin(r);return v([b+i*(1-b)+o*-b,x+i*-x+o*-x,m+i*-m+o*(1-m),0,0,b+i*-b+.143*o,x+.28484*i+.14*o,m+i*-m+-.283*o,0,0,b+i*-b+-.787329*o,x+i*-x+o*x,m+i*(1-m)+o*m,0,0,0,0,0,1,0,0,0,0,0,1],t)},I=function(t,r){return v([r,0,0,0,.5*(1-r),0,r,0,0,.5*(1-r),0,0,r,0,.5*(1-r),0,0,0,1,0],t)},y=function(t,r){var i,o=P(r),e=t.filters||[],n=e.length;for(o||p(r+" not found. PixiPlugin.registerPIXI(PIXI)");--n>-1;)if(e[n]instanceof o)return e[n];return i=new o,"BlurFilter"===r&&(a?i.strength=0:i.blur=0),t.filters=[].concat(e,[i]),i},A=function(t,r,i,o){r.add(i,t,i[t],o[t]),r._props.push(t)},F=function(t,r){var i=new(P("ColorMatrixFilter"));return i.matrix=r,i.brightness(t,!0),i.matrix},_={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},C=function(t,r,i){var o,e,n,s=y(t,"ColorMatrixFilter"),l=t._gsColorMatrixFilter=t._gsColorMatrixFilter||function(t){var r,i={};for(r in t)i[r]=t[r];return i}(_),a=r.combineCMF&&!("colorMatrixFilter"in r&&!r.colorMatrixFilter);n=s.matrix,r.resolution&&(s.resolution=r.resolution),r.matrix&&r.matrix.length===n.length?(e=r.matrix,1!==l.contrast&&A("contrast",i,l,_),l.hue&&A("hue",i,l,_),1!==l.brightness&&A("brightness",i,l,_),l.colorizeAmount&&(A("colorize",i,l,_),A("colorizeAmount",i,l,_)),1!==l.saturation&&A("saturation",i,l,_)):(e=g.slice(),null!=r.contrast?(e=I(e,+r.contrast),A("contrast",i,l,r)):1!==l.contrast&&(a?e=I(e,l.contrast):A("contrast",i,l,_)),null!=r.hue?(e=M(e,+r.hue),A("hue",i,l,r)):l.hue&&(a?e=M(e,l.hue):A("hue",i,l,_)),null!=r.brightness?(e=F(+r.brightness,e),A("brightness",i,l,r)):1!==l.brightness&&(a?e=F(l.brightness,e):A("brightness",i,l,_)),null!=r.colorize?(r.colorizeAmount="colorizeAmount"in r?+r.colorizeAmount:1,e=z(e,r.colorize,r.colorizeAmount),A("colorize",i,l,r),A("colorizeAmount",i,l,r)):l.colorizeAmount&&(a?e=z(e,l.colorize,l.colorizeAmount):(A("colorize",i,l,_),A("colorizeAmount",i,l,_))),null!=r.saturation?(e=w(e,+r.saturation),A("saturation",i,l,r)):1!==l.saturation&&(a?e=w(e,l.saturation):A("saturation",i,l,_))),o=e.length;for(;--o>-1;)e[o]!==n[o]&&i.add(n,o,n[o],e[o],"colorMatrixFilter");i._props.push("colorMatrixFilter")},X=function(t,r){var i=r.t,o=r.p,e=r.color;(0,r.set)(i,o,e[0]<<16|e[1]<<8|e[2])},S=function(t,r){var i=r.g;a?(i.fill(),i.stroke()):i&&(i.dirty++,i.clearDirty++)},k=function(t,r){r.t.visible=!!r.t.alpha},O=function(t,r,o,e){var l=t[r],a=i(d(l)?t[r.indexOf("set")||!d(t["get"+r.substr(3)])?r:"get"+r.substr(3)]():l),u=i(o);e._pt=new n(e._pt,t,r,0,0,X,{t:t,p:r,color:a,set:s(t,r)}),e.add(a,0,a[0],u[0]),e.add(a,1,a[1],u[1]),e.add(a,2,a[2],u[2])},Y={tint:1,lineColor:1,fillColor:1,strokeColor:1},j="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),B={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},D={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},E=Math.PI/180,N=function(t){return"string"==typeof t},R=function(t){return N(t)&&"="===t.charAt(1)?t.substr(0,2)+parseFloat(t.substr(2))*E:t*E},V=function(t,r){return r.set(r.t,r.p,1===t?r.e:Math.round(1e5*(r.s+r.c*t))/1e5,r)},G=function(t,r,i,o,e,s){var l,a,u=360*(s?E:1),c=N(e),f=c&&"="===e.charAt(1)?+(e.charAt(0)+"1"):0,h=parseFloat(f?e.substr(2):e)*(s?E:1),d=f?h*f:h-o,p=o+d;return c&&("short"===(l=e.split("_")[1])&&(d%=u)!=d%(u/2)&&(d+=d<0?u:-u),"cw"===l&&d<0?d=(d+1e10*u)%u-~~(d/u)*u:"ccw"===l&&d>0&&(d=(d-1e10*u)%u-~~(d/u)*u)),t._pt=a=new n(t._pt,r,i,o,d,V),a.e=p,a},L=function(){if(!o){r=h();var t=(e=o=e||f()&&window.PIXI)&&e.VERSION&&parseFloat(e.VERSION.split(".")[0])||0;l=4===t,a=t>=8,i=function(t){return r.utils.splitColor("0x"===(t+"").substr(0,2)?"#"+t.substr(2):t)}}};for(u=0;u<j.length;u++)c=j[u],B[c+"X"]=c,B[c+"Y"]=c;var q={version:"3.13.0",name:"pixi",register:function(t,i,o){r=t,n=o,s=i.getSetter,L()},headless:!0,registerPIXI:function(t){e=t},init:function(t,r,i,o,s){if(e||L(),!e)return p("PIXI was not found. PixiPlugin.registerPIXI(PIXI);"),!1;var u,c,f,h,d,g,b,x,m,P;for(g in r){if(u=B[g],f=r[g],u)c=~g.charAt(g.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(t[u],c,t[u][c],"skew"===u?R(f):f,0,0,0,0,0,1);else if("scale"===g||"anchor"===g||"pivot"===g||"tileScale"===g)this.add(t[g],"x",t[g].x,f),this.add(t[g],"y",t[g].y,f);else if("rotation"===g||"angle"===g)G(this,t,g,t[g],f,"rotation"===g);else if(D[g])h||(C(t,r.colorMatrixFilter||r,this),h=!0);else if("blur"===g||"blurX"===g||"blurY"===g||"blurPadding"===g){if(d=y(t,"BlurFilter"),this.add(d,g,d[g],f),0!==r.blurPadding)for(b=r.blurPadding||2*Math.max(d[g],f),x=t.filters.length;--x>-1;)t.filters[x].padding=Math.max(t.filters[x].padding,b)}else if(Y[g])if(("lineColor"===g||"fillColor"===g||"strokeColor"===g)&&t instanceof e.Graphics){m="fillStyle"in t?[t]:(t.geometry||t).graphicsData,P=g.substr(0,g.length-5),a&&"line"===P&&(P="stroke"),this._pt=new n(this._pt,t,g,0,0,S,{g:t.geometry||t}),x=m.length;for(;--x>-1;)O(l?m[x]:m[x][P+"Style"],l?g:"color",f,this)}else O(t,g,f,this);else"autoAlpha"===g?(this._pt=new n(this._pt,t,"visible",0,0,k),this.add(t,"alpha",t.alpha,f),this._props.push("alpha","visible")):"resolution"!==g&&this.add(t,g,"get",f);this._props.push(g)}}};h()&&r.registerPlugin(q),t.PixiPlugin=q,t.default=q,Object.defineProperty(t,"__esModule",{value:!0})}));