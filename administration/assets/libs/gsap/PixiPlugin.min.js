/*! For license information please see PixiPlugin.min.js.LICENSE.txt */
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((t=t||self).window=t.window||{})}(this,(function(t){"use strict";function r(){return"undefined"!=typeof window}function i(){return y||r()&&(y=window.gsap)&&y.registerPlugin&&y}function o(t){return"function"==typeof t}function e(t){return console.warn(t)}function n(t){return o(F[t])?F[t]:F.filters[t]}function s(t,r){var i,o,e=[],n=0,s=0;for(i=0;i<4;i++){for(o=0;o<5;o++)s=4===o?t[n+4]:0,e[n+o]=t[n]*r[o]+t[n+1]*r[o+5]+t[n+2]*r[o+10]+t[n+3]*r[o+15]+s;n+=5}return e}function l(t,r){var i=1-r,o=i*j,e=i*B,n=i*D;return s([o+r,e,n,0,0,o,e+r,n,0,0,o,e,n+r,0,0,0,0,0,1,0],t)}function a(t,r,i){var o=I(r),e=o[0]/255,n=o[1]/255,l=o[2]/255,a=1-i;return s([a+i*e*j,i*e*B,i*e*D,0,0,i*n*j,a+i*n*B,i*n*D,0,0,i*l*j,i*l*B,a+i*l*D,0,0,0,0,0,1,0],t)}function u(t,r){r*=Math.PI/180;var i=Math.cos(r),o=Math.sin(r);return s([j+i*(1-j)+o*-j,B+i*-B+o*-B,D+i*-D+o*(1-D),0,0,j+i*-j+.143*o,B+i*(1-B)+.14*o,D+i*-D+-.283*o,0,0,j+i*-j+o*-(1-j),B+i*-B+o*B,D+i*(1-D)+o*D,0,0,0,0,0,1,0,0,0,0,0,1],t)}function c(t,r){return s([r,0,0,0,.5*(1-r),0,r,0,0,.5*(1-r),0,0,r,0,.5*(1-r),0,0,0,1,0],t)}function f(t,r){var i,o=n(r),s=t.filters||[],l=s.length;for(o||e(r+" not found. PixiPlugin.registerPIXI(PIXI)");-1<--l;)if(s[l]instanceof o)return s[l];return i=new o,"BlurFilter"===r&&(S?i.strength=0:i.blur=0),t.filters=[].concat(s,[i]),i}function h(t,r,i,o){r.add(i,t,i[t],o[t]),r._props.push(t)}function d(t,r){var i=new(n("ColorMatrixFilter"));return i.matrix=r,i.brightness(t,!0),i.matrix}function p(t,r,i){var o,e,n,s=f(t,"ColorMatrixFilter"),p=t._gsColorMatrixFilter=t._gsColorMatrixFilter||function(t){var r,i={};for(r in t)i[r]=t[r];return i}(E),g=r.combineCMF&&!("colorMatrixFilter"in r&&!r.colorMatrixFilter);n=s.matrix,r.resolution&&(s.resolution=r.resolution),r.matrix&&r.matrix.length===n.length?(e=r.matrix,1!==p.contrast&&h("contrast",i,p,E),p.hue&&h("hue",i,p,E),1!==p.brightness&&h("brightness",i,p,E),p.colorizeAmount&&(h("colorize",i,p,E),h("colorizeAmount",i,p,E)),1!==p.saturation&&h("saturation",i,p,E)):(e=Y.slice(),null!=r.contrast?(e=c(e,+r.contrast),h("contrast",i,p,r)):1!==p.contrast&&(g?e=c(e,p.contrast):h("contrast",i,p,E)),null!=r.hue?(e=u(e,+r.hue),h("hue",i,p,r)):p.hue&&(g?e=u(e,p.hue):h("hue",i,p,E)),null!=r.brightness?(e=d(+r.brightness,e),h("brightness",i,p,r)):1!==p.brightness&&(g?e=d(p.brightness,e):h("brightness",i,p,E)),null!=r.colorize?(r.colorizeAmount="colorizeAmount"in r?+r.colorizeAmount:1,e=a(e,r.colorize,r.colorizeAmount),h("colorize",i,p,r),h("colorizeAmount",i,p,r)):p.colorizeAmount&&(g?e=a(e,p.colorize,p.colorizeAmount):(h("colorize",i,p,E),h("colorizeAmount",i,p,E))),null!=r.saturation?(e=l(e,+r.saturation),h("saturation",i,p,r)):1!==p.saturation&&(g?e=l(e,p.saturation):h("saturation",i,p,E))),o=e.length;for(;-1<--o;)e[o]!==n[o]&&i.add(n,o,n[o],e[o],"colorMatrixFilter");i._props.push("colorMatrixFilter")}function g(t,r){var i=r.t,o=r.p,e=r.color;(0,r.set)(i,o,e[0]<<16|e[1]<<8|e[2])}function b(t,r){var i=r.g;S?(i.fill(),i.stroke()):i&&(i.dirty++,i.clearDirty++)}function x(t,r){r.t.visible=!!r.t.alpha}function m(t,r,i,e){var n=t[r],s=I(o(n)?t[r.indexOf("set")||!o(t["get"+r.substr(3)])?r:"get"+r.substr(3)]():n),l=I(i);e._pt=new _(e._pt,t,r,0,0,g,{t:t,p:r,color:s,set:C(t,r)}),e.add(s,0,s[0],l[0]),e.add(s,1,s[1],l[1]),e.add(s,2,s[2],l[2])}function w(t){return"string"==typeof t}function P(t){return w(t)&&"="===t.charAt(1)?t.substr(0,2)+parseFloat(t.substr(2))*L:t*L}function v(t,r){return r.set(r.t,r.p,1===t?r.e:Math.round(1e5*(r.s+r.c*t))/1e5,r)}function z(t,r,i,o,e,n){var s,l,a=360*(n?L:1),u=w(e),c=u&&"="===e.charAt(1)?+(e.charAt(0)+"1"):0,f=parseFloat(c?e.substr(2):e)*(n?L:1),h=c?f*c:f-o,d=o+h;return u&&("short"===(s=e.split("_")[1])&&(h%=a)!=h%(a/2)&&(h+=h<0?a:-a),"cw"===s&&h<0?h=(h+1e10*a)%a-~~(h/a)*a:"ccw"===s&&0<h&&(h=(h-1e10*a)%a-~~(h/a)*a)),t._pt=l=new _(t._pt,r,i,o,h,v),l.e=d,l}function M(){if(!A){y=i();var t=(F=A=F||r()&&window.PIXI)&&F.VERSION&&parseFloat(F.VERSION.split(".")[0])||0;X=4===t,S=8<=t,I=function(t){return y.utils.splitColor("0x"===(t+"").substr(0,2)?"#"+t.substr(2):t)}}}var y,I,A,F,_,C,X,S,k,O,Y=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],j=.212671,B=.71516,D=.072169,E={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},N={tint:1,lineColor:1,fillColor:1,strokeColor:1},R="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),V={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},G={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},L=Math.PI/180;for(k=0;k<R.length;k++)O=R[k],V[O+"X"]=O,V[O+"Y"]=O;var q={version:"3.13.0",name:"pixi",register:function(t,r,i){y=t,_=i,C=r.getSetter,M()},headless:!0,registerPIXI:function(t){F=t},init:function(t,r){if(F||M(),!F)return e("PIXI was not found. PixiPlugin.registerPIXI(PIXI);"),!1;var i,o,n,s,l,a,u,c,h,d;for(a in r){if(i=V[a],n=r[a],i)o=~a.charAt(a.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(t[i],o,t[i][o],"skew"===i?P(n):n,0,0,0,0,0,1);else if("scale"===a||"anchor"===a||"pivot"===a||"tileScale"===a)this.add(t[a],"x",t[a].x,n),this.add(t[a],"y",t[a].y,n);else if("rotation"===a||"angle"===a)z(this,t,a,t[a],n,"rotation"===a);else if(G[a])s||(p(t,r.colorMatrixFilter||r,this),s=!0);else if("blur"===a||"blurX"===a||"blurY"===a||"blurPadding"===a){if(l=f(t,"BlurFilter"),this.add(l,a,l[a],n),0!==r.blurPadding)for(u=r.blurPadding||2*Math.max(l[a],n),c=t.filters.length;-1<--c;)t.filters[c].padding=Math.max(t.filters[c].padding,u)}else if(N[a])if(("lineColor"===a||"fillColor"===a||"strokeColor"===a)&&t instanceof F.Graphics){h="fillStyle"in t?[t]:(t.geometry||t).graphicsData,d=a.substr(0,a.length-5),S&&"line"===d&&(d="stroke"),this._pt=new _(this._pt,t,a,0,0,b,{g:t.geometry||t}),c=h.length;for(;-1<--c;)m(X?h[c]:h[c][d+"Style"],X?a:"color",n,this)}else m(t,a,n,this);else"autoAlpha"===a?(this._pt=new _(this._pt,t,"visible",0,0,x),this.add(t,"alpha",t.alpha,n),this._props.push("alpha","visible")):"resolution"!==a&&this.add(t,a,"get",n);this._props.push(a)}}};i()&&y.registerPlugin(q),t.PixiPlugin=q,t.default=q,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default}));