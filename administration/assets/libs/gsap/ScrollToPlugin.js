/*! For license information please see ScrollToPlugin.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,(function(e){"use strict";var t,o,n,r,l,i,s,p,c=function(){return"undefined"!=typeof window},f=function(){return t||c()&&(t=window.gsap)&&t.registerPlugin&&t},u=function(e){return"string"==typeof e},a=function(e){return"function"==typeof e},y=function(e,t){var o="x"===t?"Width":"Height",i="scroll"+o,s="client"+o;return e===n||e===r||e===l?Math.max(r[i],l[i])-(n["inner"+o]||r[s]||l[s]):e[i]-e["offset"+o]},d=function(e,t){var o="scroll"+("x"===t?"Left":"Top");return e===n&&(null!=e.pageXOffset?o="page"+t.toUpperCase()+"Offset":e=null!=r[o]?r:l),function(){return e[o]}},g=function(e,t){if(!(e=i(e)[0])||!e.getBoundingClientRect)return console.warn("scrollTo target doesn't exist. Using 0")||{x:0,y:0};var o=e.getBoundingClientRect(),s=!t||t===n||t===l,p=s?{top:r.clientTop-(n.pageYOffset||r.scrollTop||l.scrollTop||0),left:r.clientLeft-(n.pageXOffset||r.scrollLeft||l.scrollLeft||0)}:t.getBoundingClientRect(),c={x:o.left-p.left,y:o.top-p.top};return!s&&t&&(c.x+=d(t,"x")(),c.y+=d(t,"y")()),c},x=function(e,t,o,n,r){return isNaN(e)||"object"==typeof e?u(e)&&"="===e.charAt(1)?parseFloat(e.substr(2))*("-"===e.charAt(0)?-1:1)+n-r:"max"===e?y(t,o)-r:Math.min(y(t,o),g(e,t)[o]-r):parseFloat(e)-r},T=function(){t=f(),c()&&t&&"undefined"!=typeof document&&document.body&&(n=window,l=document.body,r=document.documentElement,i=t.utils.toArray,t.config({autoKillThreshold:7}),s=t.config(),o=1)},h={version:"3.13.0",name:"scrollTo",rawVars:1,register:function(e){t=e,T()},init:function(e,r,l,i,c){o||T();var f=this,y=t.getProperty(e,"scrollSnapType");f.isWin=e===n,f.target=e,f.tween=l,r=function(e,t,o,n){if(a(e)&&(e=e(t,o,n)),"object"!=typeof e)return u(e)&&"max"!==e&&"="!==e.charAt(1)?{x:e,y:e}:{y:e};if(e.nodeType)return{y:e,x:e};var r,l={};for(r in e)l[r]="onAutoKill"!==r&&a(e[r])?e[r](t,o,n):e[r];return l}(r,i,e,c),f.vars=r,f.autoKill=!!("autoKill"in r?r:s).autoKill,f.getX=d(e,"x"),f.getY=d(e,"y"),f.x=f.xPrev=f.getX(),f.y=f.yPrev=f.getY(),p||(p=t.core.globals().ScrollTrigger),"smooth"===t.getProperty(e,"scrollBehavior")&&t.set(e,{scrollBehavior:"auto"}),y&&"none"!==y&&(f.snap=1,f.snapInline=e.style.scrollSnapType,e.style.scrollSnapType="none"),null!=r.x?(f.add(f,"x",f.x,x(r.x,e,"x",f.x,r.offsetX||0),i,c),f._props.push("scrollTo_x")):f.skipX=1,null!=r.y?(f.add(f,"y",f.y,x(r.y,e,"y",f.y,r.offsetY||0),i,c),f._props.push("scrollTo_y")):f.skipY=1},render:function(e,t){for(var o,r,l,i,c,f=t._pt,u=t.target,a=t.tween,d=t.autoKill,g=t.xPrev,x=t.yPrev,T=t.isWin,h=t.snap,v=t.snapInline;f;)f.r(e,f.d),f=f._next;o=T||!t.skipX?t.getX():g,l=(r=T||!t.skipY?t.getY():x)-x,i=o-g,c=s.autoKillThreshold,t.x<0&&(t.x=0),t.y<0&&(t.y=0),d&&(!t.skipX&&(i>c||i<-c)&&o<y(u,"x")&&(t.skipX=1),!t.skipY&&(l>c||l<-c)&&r<y(u,"y")&&(t.skipY=1),t.skipX&&t.skipY&&(a.kill(),t.vars.onAutoKill&&t.vars.onAutoKill.apply(a,t.vars.onAutoKillParams||[]))),T?n.scrollTo(t.skipX?o:t.x,t.skipY?r:t.y):(t.skipY||(u.scrollTop=t.y),t.skipX||(u.scrollLeft=t.x)),!h||1!==e&&0!==e||(r=u.scrollTop,o=u.scrollLeft,v?u.style.scrollSnapType=v:u.style.removeProperty("scroll-snap-type"),u.scrollTop=r+1,u.scrollLeft=o+1,u.scrollTop=r,u.scrollLeft=o),t.xPrev=t.x,t.yPrev=t.y,p&&p.update()},kill:function(e){var t="scrollTo"===e,o=this._props.indexOf(e);return(t||"scrollTo_x"===e)&&(this.skipX=1),(t||"scrollTo_y"===e)&&(this.skipY=1),o>-1&&this._props.splice(o,1),!this._props.length}};h.max=y,h.getOffset=g,h.buildGetter=d,h.config=function(e){for(var o in s||T()||(s=t.config()),e)s[o]=e[o]},f()&&t.registerPlugin(h),e.ScrollToPlugin=h,e.default=h,Object.defineProperty(e,"__esModule",{value:!0})}));