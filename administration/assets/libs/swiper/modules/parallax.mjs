import{e as a}from"../shared/utils.mjs";function t({swiper:t,extendParams:e,on:r}){e({parallax:{enabled:!1}});const l="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",s=(a,e)=>{const{rtl:r}=t,l=r?-1:1,s=a.getAttribute("data-swiper-parallax")||"0";let p=a.getAttribute("data-swiper-parallax-x"),i=a.getAttribute("data-swiper-parallax-y");const n=a.getAttribute("data-swiper-parallax-scale"),o=a.getAttribute("data-swiper-parallax-opacity"),d=a.getAttribute("data-swiper-parallax-rotate");if(p||i?(p=p||"0",i=i||"0"):t.isHorizontal()?(p=s,i="0"):(i=s,p="0"),p=p.indexOf("%")>=0?parseInt(p,10)*e*l+"%":p*e*l+"px",i=i.indexOf("%")>=0?parseInt(i,10)*e+"%":i*e+"px",null!=o){const t=o-(o-1)*(1-Math.abs(e));a.style.opacity=t}let x=`translate3d(${p}, ${i}, 0px)`;null!=n&&(x+=` scale(${n-(n-1)*(1-Math.abs(e))})`),d&&null!=d&&(x+=` rotate(${d*e*-1}deg)`),a.style.transform=x},p=()=>{const{el:e,slides:r,progress:p,snapGrid:i,isElement:n}=t,o=a(e,l);t.isElement&&o.push(...a(t.hostEl,l)),o.forEach((a=>{s(a,p)})),r.forEach(((a,e)=>{let r=a.progress;t.params.slidesPerGroup>1&&"auto"!==t.params.slidesPerView&&(r+=Math.ceil(e/2)-p*(i.length-1)),r=Math.min(Math.max(r,-1),1),a.querySelectorAll(`${l}, [data-swiper-parallax-rotate]`).forEach((a=>{s(a,r)}))}))};r("beforeInit",(()=>{t.params.parallax.enabled&&(t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0)})),r("init",(()=>{t.params.parallax.enabled&&p()})),r("setTranslate",(()=>{t.params.parallax.enabled&&p()})),r("setTransition",((a,e)=>{t.params.parallax.enabled&&((a=t.params.speed)=>{const{el:e,hostEl:r}=t,s=[...e.querySelectorAll(l)];t.isElement&&s.push(...r.querySelectorAll(l)),s.forEach((t=>{let e=parseInt(t.getAttribute("data-swiper-parallax-duration"),10)||a;0===a&&(e=0),t.style.transitionDuration=`${e}ms`}))})(e)}))}export{t as default};