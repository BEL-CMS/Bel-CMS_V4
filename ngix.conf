# nginx configuration
# Bloquer certains user-agents ind√©sirables
if ($http_user_agent ~* (AhrefsBot|SemrushBot|MJ12bot|DotBot|BLEXBot|SEOkicks|linkdexbot|MegaIndex|SeznamBot)) {
    return 403;
}

if ($http_user_agent ~* (YandexBot|Mail.RU_Bot|Baiduspider|Sogou|PetalBot)) {
    return 403;
}

if ($http_user_agent ~* (curl|wget|python-requests|libwww-perl|Scrapy|HttpClient|Go-http-client|Java|okhttp|httpunit|Mechanize)) {
    return 403;
}

if ($http_user_agent ~* (HTTrack|SiteSnagger|WebStripper|WebCopier|Teleport|Zeus|BacklinkCrawler)) {
    return 403;
}

location = /index.php {
}

location / {
  if (!-e $request_filename){
    rewrite ^(.*)$ /index.php?params=$1 break;
  }
}

location ~ ^\.(htaccess)$ {
  deny all;
}